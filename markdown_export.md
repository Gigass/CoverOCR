# 📘 机器学习书本封面识别项目需求说明文档（V2.0）

## 一、项目目标（核心任务）

构建一个**基于机器学习的端到端图像识别系统**，专注于从书本封面实拍图中提取**文字内容**及其**详细排版属性**。

**核心任务**：输入一张书本封面照片 $\rightarrow$ 输出封面上的文字内容 + 对应的详细样式描述（如：【小四，宋体，固定值 22 磅】）。

**注意**：本项目**不需要**识别书籍的具体身份（如书名、ISBN等），仅关注封面上的文字及其视觉样式。

---

## 二、功能需求

### 2.1 图像识别模块

| 功能点 | 描述 |
|--------|------|
| **文字识别 (OCR)** | 识别封面上的所有可见文字，包括中文、英文。 |
| **排版属性识别** | 对识别出的每一段文字，分析其排版属性：<br>1. **字体类别**：如宋体、黑体、楷体、Arial等。<br>2. **字号名称**：如小四、一号等。<br>3. **具体磅值**：如 22磅 (pt)。 |
| **输出格式** | 必须输出类似 **【小四，宋体，固定值 22 磅】** 的结构化描述。 |
| **图像输入支持** | 支持用户上传 JPG/PNG 格式图像。 |
| **实拍兼容性** | 支持用户**实拍图像**，需处理倾斜、光照不均、背景干扰等情况。 |

### 2.2 用户交互模块（验收用）

| 功能点 | 描述 |
|--------|------|
| **图像上传** | 用户可通过界面上传一张实拍的书本封面图像。 |
| **结果展示** | 系统需在界面上直观展示识别到的文字及其对应的样式属性。 |
| **响应时间** | 上传后识别结果应在**合理时间内返回**（建议 ≤ 10 秒）。 |

---

## 三、技术实现要求（核心考核点）

本项目**必须**采用机器学习/深度学习方法实现，且在模型训练与数据准备阶段，**必须包含**以下标准的数据预处理流程：

### 3.1 机器学习流程
*   **模型构建**：构建用于文字检测、文字识别及属性回归/分类的机器学习模型。
*   **训练管线**：建立完整的训练、验证、测试流程。

### 3.2 数据预处理 (Data Preprocessing)
在数据输入模型之前，必须实施以下处理步骤，并在代码中体现：

1.  **缺失值处理 (Missing Values)**：
    *   检测并处理标注数据中的缺失项（如某样本缺少字号标注）。
    *   策略：删除缺失样本或使用统计值（均值/众数）/插值法进行填充。
2.  **异常值处理 (Outliers)**：
    *   识别并处理数据集中的离群点（如尺寸极端的图像、标注错误的字号数值）。
    *   策略：基于统计规则（如 IQR、Z-Score）剔除或修正异常数据。
3.  **归一化/数据缩放 (Normalization / Data Scaling)**：
    *   对输入图像像素进行归一化（如缩放至 [0, 1] 或 [-1, 1]）。
    *   对连续型标签（如字体磅值）进行标准化处理，加速模型收敛。
4.  **独热编码 (One-Hot Encoding)**：
    *   对离散型分类特征进行编码。
    *   应用场景：**字体类别**（宋体/黑体...）、**字号名称**（小四/五号...）等分类标签的向量化。

---

## 四、性能需求

| 指标 | 要求 |
|------|------|
| **文字识别准确率** | ≥ 80%（文字内容正确） |
| **字体类别准确率** | ≥ 70%（字体类别正确） |
| **字号/磅值估算** | 误差在允许范围内（如 ±2pt） |
| **实拍图像鲁棒性** | 支持轻微角度倾斜、光照不均、背景干扰等情况下的识别 |

---

## 五、数据需求

### 5.1 图像数据
*   **来源**：教材、参考书的实拍或扫描图像。
*   **数量**：足够支持机器学习模型训练的数据量。

### 5.2 标注数据
每张图像的标注需包含：
1.  **文字内容**（Ground Truth Text）。
2.  **文字区域**（Bounding Box）。
3.  **样式属性**：
    *   字体类别（Font Class）。
    *   字号名称（Font Size Name）。
    *   磅值（Point Size）。

---

## 六、验收标准

### 6.1 验收方式
1.  **现场拍摄**：验收人员随机选择一本教材/参考书，现场拍摄封面。
2.  **上传识别**：用户将照片上传至系统。
3.  **输出结果**：系统返回文字内容及 **【小四，宋体，固定值 22 磅】** 格式的属性。
4.  **代码核查**：验收人员检查代码库，确认包含**缺失值处理**、**异常值清洗**、**归一化**、**独热编码**等预处理逻辑。

### 6.2 验收通过标准
| 项目 | 要求 |
|------|------|
| **文字识别** | 封面中主要文字识别正确率 ≥ 80% |
| **样式识别** | 能准确输出主要文字的字体、字号和磅值 |
| **预处理实现** | 代码中明确包含规定的四项预处理步骤 |


